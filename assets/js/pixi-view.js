function PIXIView(){this.Instance=new PIXI.Application({forceCanvas:!0,width:1280,height:720,transparent:!0});this.Element=this.Instance.view;this.Stage=this.Instance.stage;this.Loader=this.Instance.loader;this.OnLoad=this.TextField=null}PIXIView.prototype.AddAssetToLoader=function(a,c){this.Loader.add(a+"?"+Date.now(),c)};PIXIView.prototype.InitializeText=function(a,c){this.OnLoad=c;this.Loader.load(this.OnLoadAssets.bind(this,a))};
PIXIView.prototype.OnLoadAssets=function(a){this.TextField=new PIXI.BitmapText("",{font:a,align:"left"});this.Stage.addChild(this.TextField);this.OnLoad&&this.OnLoad()};PIXIView.prototype.SetText=function(a){this.TextField&&(this.TextField.text=a)};PIXIView.prototype.Dispose=function(){this.Loader.reset();this.Instance.destroy(!0);this.OnLoad=this.TextField=this.Loader=this.Stage=this.Element=this.Instance=null};
PIXI.BitmapFontLoader.use=function(a,c){if(a.data&&a.type===PIXI.LoaderResource.TYPE.XML)if(0===a.data.getElementsByTagName("page").length||0===a.data.getElementsByTagName("info").length||null===a.data.getElementsByTagName("info")[0].getAttribute("face"))c();else{var b=a.isDataUrl?"":PIXI.BitmapFontLoader.dirname(a.url);a.isDataUrl&&("."===b&&(b=""),this.baseUrl&&b&&"/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(b+="/"));(b=b.replace(this.baseUrl,""))&&"/"!==b.charAt(b.length-1)&&(b+="/");for(var f=
a.data.getElementsByTagName("page"),g={},h=function(b){g[b.metadata.pageFile]=b.texture;Object.keys(g).length===f.length&&(PIXI.BitmapFontLoader.parse(a,g),c())},k=0;k<f.length;++k){var d=f[k].getAttribute("file"),l=b+d,m=!1,n;for(n in this.resources){var e=this.resources[n];if(-1!==e.name.indexOf(l)){e.metadata.pageFile=d;e.texture?h(e):e.onAfterMiddleware.add(h);m=!0;break}}m||(d={crossOrigin:a.crossOrigin,loadType:PIXI.LoaderResource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:d},a.metadata.imageMetadata),
parentResource:a},this.add(l,d,h))}}else c()};